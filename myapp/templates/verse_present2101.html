<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Tamil Bible</title>
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
        <!-- FontAwesome for Icons -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    </head>
    <body>
        <!-- verse_present.html -->
        <div id="verses-container">
            {% for verse in verse_details %}
                <h2 class="card-title">
                    {{ book }}({{ verse.bookname }}) {{ chapter }}:{{ verse.versecount }}
                </h2>
                <p>{{ verse.verse }}</p>
                <p>{{ verse.kjv }}</p>
            {% empty %}
                <p>No verse found. Please make sure you entered valid book, chapter, and verse.</p>
            {% endfor %}
        </div>
<!-- 16-01-2025 -->
        Fullscreen Toggle Button
        <button id="fullscreenBtn" class="btn btn-primary">Go Fullscreen</button>
        <!-- <script>
            const fullscreenBtn = document.getElementById('fullscreenBtn');

            // Function to toggle fullscreen mode
            function toggleFullscreen() {
                if (!document.fullscreenElement) {
                    document.documentElement.requestFullscreen().catch(err => {
                        alert(`Error attempting to enable fullscreen: ${err.message}`);
                    });
                } else {
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                    }
                }
            }

            // Attach the toggleFullscreen function to the button click event
            fullscreenBtn.addEventListener('click', toggleFullscreen);

            // Optionally, listen for fullscreen changes to update the button text
            document.addEventListener('fullscreenchange', function() {
                if (document.fullscreenElement) {
                    fullscreenBtn.textContent = "Exit Fullscreen";
                    // Save fullscreen state in localStorage
                    localStorage.setItem('isFullscreen', 'true');
                } else {
                    fullscreenBtn.textContent = "Go Fullscreen";
                    // Save fullscreen state in localStorage
                    localStorage.setItem('isFullscreen', 'false');
                }
            });
        </script>

<script>
  // Function to apply styles dynamically to the content inside #verses-container
  function applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor) {
      const versesContainer = document.getElementById('verses-container');

      // Only modify the elements inside #verses-container
      if (fontStyle) {
          versesContainer.style.fontFamily = fontStyle; // Apply font style to content
      }
      if (fontSize) {
          versesContainer.style.fontSize = fontSize; // Apply font size to content
      }
      if (fontColor) {
          versesContainer.style.color = fontColor; // Apply text color to content
      }
      if (backgroundColor) {
          versesContainer.style.backgroundColor = backgroundColor; // Apply background color to content
      }
  }

  // Listen for changes in localStorage across all open tabs using the storage event
  window.addEventListener('storage', function(event) {
      // Check if the storage event is related to style settings
      if (event.key === 'fontStyle' || event.key === 'fontSize' || event.key === 'fontColor' || event.key === 'backgroundColor') {
          // Apply the new styles from localStorage to the page content
          const fontStyle = localStorage.getItem('fontStyle');
          const fontSize = localStorage.getItem('fontSize');
          const fontColor = localStorage.getItem('fontColor');
          const backgroundColor = localStorage.getItem('backgroundColor');
          
          applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor);
      }
  });

  // Apply styles on page load (initial load)
  window.onload = function() {
      const fontStyle = localStorage.getItem('fontStyle');
      const fontSize = localStorage.getItem('fontSize');
      const fontColor = localStorage.getItem('fontColor');
      const backgroundColor = localStorage.getItem('backgroundColor');

      // Apply the styles to the content within #verses-container
      applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor);

      // Re-check if we need to go fullscreen again
      if (document.fullscreenElement) {
            document.documentElement.requestFullscreen().catch(err => {
                alert(`Error attempting to enable fullscreen: ${err.message}`);
            });
        }
  };
</script> -->

<!-- <script>
    const fullscreenBtn = document.getElementById('fullscreenBtn');

    // Function to toggle fullscreen mode
    function toggleFullscreen() {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen().catch(err => {
                alert(`Error attempting to enable fullscreen: ${err.message}`);
            });
        } else {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            }
        }
    }

    // Attach the toggleFullscreen function to the button click event
    fullscreenBtn.addEventListener('click', toggleFullscreen);

    // Optionally, listen for fullscreen changes to update the button text
    document.addEventListener('fullscreenchange', function() {
        if (document.fullscreenElement) {
            fullscreenBtn.textContent = "Exit Fullscreen";
            // Save fullscreen state in localStorage
            localStorage.setItem('isFullscreen', 'true');
        } else {
            fullscreenBtn.textContent = "Go Fullscreen";
            // Save fullscreen state in localStorage
            localStorage.setItem('isFullscreen', 'false');
        }
    });

    // Apply styles from localStorage
    function applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor) {
        const versesContainer = document.getElementById('verses-container');

        // Only modify the elements inside #verses-container
        if (fontStyle) {
            versesContainer.style.fontFamily = fontStyle; // Apply font style to content
        }
        if (fontSize) {
            versesContainer.style.fontSize = fontSize; // Apply font size to content
        }
        if (fontColor) {
            versesContainer.style.color = fontColor; // Apply text color to content
        }
        if (backgroundColor) {
            versesContainer.style.backgroundColor = backgroundColor; // Apply background color to content
        }
    }

    // Listen for changes in localStorage across all open tabs using the storage event
    window.addEventListener('storage', function(event) {
        // Check if the storage event is related to style settings
        if (event.key === 'fontStyle' || event.key === 'fontSize' || event.key === 'fontColor' || event.key === 'backgroundColor') {
            // Apply the new styles from localStorage to the page content
            const fontStyle = localStorage.getItem('fontStyle');
            const fontSize = localStorage.getItem('fontSize');
            const fontColor = localStorage.getItem('fontColor');
            const backgroundColor = localStorage.getItem('backgroundColor');
            
            applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor);
        }
    });

    // Apply styles on page load (initial load)
    window.onload = function() {
        const fontStyle = localStorage.getItem('fontStyle');
        const fontSize = localStorage.getItem('fontSize');
        const fontColor = localStorage.getItem('fontColor');
        const backgroundColor = localStorage.getItem('backgroundColor');

        // Apply the styles to the content within #verses-container
        applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor);

        // Check fullscreen state on page load and re-enter fullscreen if needed
        const isFullscreen = localStorage.getItem('isFullscreen');
        if (isFullscreen === 'true' && !document.fullscreenElement) {
            document.documentElement.requestFullscreen().catch(err => {
                alert(`Error attempting to enable fullscreen: ${err.message}`);
            });
        }
    };
</script> -->

<!-- <script>
    const fullscreenBtn = document.getElementById('fullscreenBtn');

    // Function to toggle fullscreen mode
    function toggleFullscreen() {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen().catch(err => {
                alert(`Error attempting to enable fullscreen: ${err.message}`);
            });
        } else {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            }
        }
    }

    // Attach the toggleFullscreen function to the button click event
    fullscreenBtn.addEventListener('click', toggleFullscreen);

    // Optionally, listen for fullscreen changes to update the button text
    document.addEventListener('fullscreenchange', function() {
        if (document.fullscreenElement) {
            fullscreenBtn.textContent = "Exit Fullscreen";
            // Save fullscreen state in localStorage
            localStorage.setItem('isFullscreen', 'true');
        } else {
            fullscreenBtn.textContent = "Go Fullscreen";
            // Save fullscreen state in localStorage
            localStorage.setItem('isFullscreen', 'false');
        }
    });

    // Function to apply styles dynamically to the content inside #verses-container
    function applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor) {
        const versesContainer = document.getElementById('verses-container');

        // Only modify the elements inside #verses-container
        if (fontStyle) {
            versesContainer.style.fontFamily = fontStyle; // Apply font style to content
        }
        if (fontSize) {
            versesContainer.style.fontSize = fontSize; // Apply font size to content
        }
        if (fontColor) {
            versesContainer.style.color = fontColor; // Apply text color to content
        }
        if (backgroundColor) {
            versesContainer.style.backgroundColor = backgroundColor; // Apply background color to content
        }
    }

    // Listen for changes in localStorage across all open tabs using the storage event
    window.addEventListener('storage', function(event) {
        // Check if the storage event is related to style settings
        if (event.key === 'fontStyle' || event.key === 'fontSize' || event.key === 'fontColor' || event.key === 'backgroundColor') {
            // Apply the new styles from localStorage to the page content
            const fontStyle = localStorage.getItem('fontStyle');
            const fontSize = localStorage.getItem('fontSize');
            const fontColor = localStorage.getItem('fontColor');
            const backgroundColor = localStorage.getItem('backgroundColor');
            
            applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor);
        }
    });

    // Apply styles on page load (initial load)
    window.onload = function() {
        const fontStyle = localStorage.getItem('fontStyle');
        const fontSize = localStorage.getItem('fontSize');
        const fontColor = localStorage.getItem('fontColor');
        const backgroundColor = localStorage.getItem('backgroundColor');

        // Apply the styles to the content within #verses-container
        applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor);

        // Attempt to enter fullscreen on page load
        try {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    // If the fullscreen request is rejected, log the error but don't break the flow
                    console.error("Error attempting to enter fullscreen:", err);
                });
            }
        } catch (err) {
            console.error("Fullscreen request failed:", err);
        }
    };
</script> -->


<!-- <script>
    const fullscreenBtn = document.getElementById('fullscreenBtn');

    // Function to toggle fullscreen mode
    function toggleFullscreen() {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen().catch(err => {
                alert(`Error attempting to enable fullscreen: ${err.message}`);
            });
        } else {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            }
        }
    }

    // Attach the toggleFullscreen function to the button click event
    fullscreenBtn.addEventListener('click', toggleFullscreen);

    // Optionally, listen for fullscreen changes to update the button text
    document.addEventListener('fullscreenchange', function() {
        if (document.fullscreenElement) {
            fullscreenBtn.textContent = "Exit Fullscreen";
            // Save fullscreen state in localStorage
            localStorage.setItem('isFullscreen', 'true');
        } else {
            fullscreenBtn.textContent = "Go Fullscreen";
            // Save fullscreen state in localStorage
            localStorage.setItem('isFullscreen', 'false');
        }
    });

    // Function to apply styles dynamically to the content inside #verses-container
    function applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor) {
        const versesContainer = document.getElementById('verses-container');

        // Only modify the elements inside #verses-container
        if (fontStyle) {
            versesContainer.style.fontFamily = fontStyle; // Apply font style to content
        }
        if (fontSize) {
            versesContainer.style.fontSize = fontSize; // Apply font size to content
        }
        if (fontColor) {
            versesContainer.style.color = fontColor; // Apply text color to content
        }
        if (backgroundColor) {
            versesContainer.style.backgroundColor = backgroundColor; // Apply background color to content
        }
    }

    // Listen for changes in localStorage across all open tabs using the storage event
    window.addEventListener('storage', function(event) {
        // Check if the storage event is related to style settings
        if (event.key === 'fontStyle' || event.key === 'fontSize' || event.key === 'fontColor' || event.key === 'backgroundColor') {
            // Apply the new styles from localStorage to the page content
            const fontStyle = localStorage.getItem('fontStyle');
            const fontSize = localStorage.getItem('fontSize');
            const fontColor = localStorage.getItem('fontColor');
            const backgroundColor = localStorage.getItem('backgroundColor');
            
            applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor);
        }
    });

    // Apply styles on page load (initial load)
    window.onload = function() {
        const fontStyle = localStorage.getItem('fontStyle');
        const fontSize = localStorage.getItem('fontSize');
        const fontColor = localStorage.getItem('fontColor');
        const backgroundColor = localStorage.getItem('backgroundColor');

        // Apply the styles to the content within #verses-container
        applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor);

        // Check if the page was previously in fullscreen mode (if stored in localStorage)
        const isFullscreen = localStorage.getItem('isFullscreen');
        console.log('fullscreennnn',isFullscreen)
        if (isFullscreen === 'true') {
            try {
                // Attempt to re-enter fullscreen if it was previously active
                document.documentElement.requestFullscreen().catch(err => {
                    // If fullscreen request is rejected, log the error
                    console.error("Error attempting to enter fullscreen:", err);
                });
            } catch (err) {
                console.error("Fullscreen request failed:", err);
            }
        }
    };
</script> -->

<!-- <script>
    const fullscreenBtn = document.getElementById('fullscreenBtn');

// Function to toggle fullscreen mode
function toggleFullscreen() {
    if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen().catch(err => {
            alert(`Error attempting to enable fullscreen: ${err.message}`);
        });
    } else {
        if (document.exitFullscreen) {
            document.exitFullscreen();
        }
    }
}

// Attach the toggleFullscreen function to the button click event
fullscreenBtn.addEventListener('click', toggleFullscreen);

// Optionally, listen for fullscreen changes to update the button text
document.addEventListener('fullscreenchange', function() {
    if (document.fullscreenElement) {
        fullscreenBtn.textContent = "Exit Fullscreen";
        // Save fullscreen state in localStorage
        localStorage.setItem('isFullscreen', 'true');
        console.log('Fullscreen mode is now active. LocalStorage set to: true');
    } else {
        fullscreenBtn.textContent = "Go Fullscreen";
        // Save fullscreen state in localStorage
        localStorage.setItem('isFullscreen', 'false');
        console.log('Fullscreen mode is now inactive. LocalStorage set to: false');
    }
});

// Function to apply styles dynamically to the content inside #verses-container
function applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor) {
    const versesContainer = document.getElementById('verses-container');

    // Only modify the elements inside #verses-container
    if (fontStyle) {
        versesContainer.style.fontFamily = fontStyle; // Apply font style to content
    }
    if (fontSize) {
        versesContainer.style.fontSize = fontSize; // Apply font size to content
    }
    if (fontColor) {
        versesContainer.style.color = fontColor; // Apply text color to content
    }
    if (backgroundColor) {
        versesContainer.style.backgroundColor = backgroundColor; // Apply background color to content
    }
}

// Listen for changes in localStorage across all open tabs using the storage event
window.addEventListener('storage', function(event) {
    // Check if the storage event is related to style settings
    if (event.key === 'fontStyle' || event.key === 'fontSize' || event.key === 'fontColor' || event.key === 'backgroundColor') {
        // Apply the new styles from localStorage to the page content
        const fontStyle = localStorage.getItem('fontStyle');
        const fontSize = localStorage.getItem('fontSize');
        const fontColor = localStorage.getItem('fontColor');
        const backgroundColor = localStorage.getItem('backgroundColor');
        
        applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor);
    }
});

// Apply styles on page load (initial load)
window.onload = function() {
    const fontStyle = localStorage.getItem('fontStyle');
    const fontSize = localStorage.getItem('fontSize');
    const fontColor = localStorage.getItem('fontColor');
    const backgroundColor = localStorage.getItem('backgroundColor');

    // Apply the styles to the content within #verses-container
    applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor);

    // Check if the page was previously in fullscreen mode (if stored in localStorage)
    const isFullscreen = localStorage.getItem('isFullscreen');
    console.log('Current fullscreen state in localStorage on page load:', isFullscreen);

    if (isFullscreen === 'true') {
        try {
            // Attempt to re-enter fullscreen if it was previously active
            document.documentElement.requestFullscreen().catch(err => {
                // If fullscreen request is rejected, log the error
                console.error("Error attempting to enter fullscreen:", err);
            });
        } catch (err) {
            console.error("Fullscreen request failed:", err);
        }
    }
};

</script> -->

<!-- Fullscreen reload 20-1-25 before noon -->
<script>
    const fullscreenBtn = document.getElementById('fullscreenBtn');

// Function to toggle fullscreen mode
function toggleFullscreen() {
    if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen().catch(err => {
            alert(`Error attempting to enable fullscreen: ${err.message}`);
        });
    } else {
        if (document.exitFullscreen) {
            document.exitFullscreen();
        }
    }
}

// Attach the toggleFullscreen function to the button click event
fullscreenBtn.addEventListener('click', toggleFullscreen);

// Optionally, listen for fullscreen changes to update the button text
document.addEventListener('fullscreenchange', function() {
    if (document.fullscreenElement) {
        fullscreenBtn.textContent = "Exit Fullscreen";
        // Save fullscreen state in localStorage
        localStorage.setItem('isFullscreen', 'true');
        console.log('Fullscreen mode is now active. LocalStorage set to: true');
    } else {
        fullscreenBtn.textContent = "Go Fullscreen";
        // Save fullscreen state in localStorage
        localStorage.setItem('isFullscreen', 'false');
        console.log('Fullscreen mode is now inactive. LocalStorage set to: false');
    }
});

// Listen for `beforeunload` event to ensure localStorage is saved before page reload
window.addEventListener('beforeunload', function() {
    const isFullscreen = document.fullscreenElement ? 'true' : 'false';
    localStorage.setItem('isFullscreen', isFullscreen);
    console.log('Before page unload, saving fullscreen state to localStorage:', isFullscreen);
});

// Function to apply styles dynamically to the content inside #verses-container
function applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor) {
    const versesContainer = document.getElementById('verses-container');

    // Only modify the elements inside #verses-container
    if (fontStyle) {
        versesContainer.style.fontFamily = fontStyle; // Apply font style to content
    }
    if (fontSize) {
        versesContainer.style.fontSize = fontSize; // Apply font size to content
    }
    if (fontColor) {
        versesContainer.style.color = fontColor; // Apply text color to content
    }
    if (backgroundColor) {
        versesContainer.style.backgroundColor = backgroundColor; // Apply background color to content
    }
}

// Listen for changes in localStorage across all open tabs using the storage event
window.addEventListener('storage', function(event) {
    // Check if the storage event is related to style settings
    if (event.key === 'fontStyle' || event.key === 'fontSize' || event.key === 'fontColor' || event.key === 'backgroundColor') {
        // Apply the new styles from localStorage to the page content
        const fontStyle = localStorage.getItem('fontStyle');
        const fontSize = localStorage.getItem('fontSize');
        const fontColor = localStorage.getItem('fontColor');
        const backgroundColor = localStorage.getItem('backgroundColor');
        
        applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor);
    }
});

// Apply styles on page load (initial load)
window.onload = function() {
    const fontStyle = localStorage.getItem('fontStyle');
    const fontSize = localStorage.getItem('fontSize');
    const fontColor = localStorage.getItem('fontColor');
    const backgroundColor = localStorage.getItem('backgroundColor');

    // Apply the styles to the content within #verses-container
    applyStylesToPage(fontStyle, fontSize, fontColor, backgroundColor);

    // Check if the page was previously in fullscreen mode (if stored in localStorage)
    const isFullscreen = localStorage.getItem('isFullscreen');
    console.log('Current fullscreen state in localStorage on page load:', isFullscreen);

    if (isFullscreen === 'true') {
        try {
            // Attempt to re-enter fullscreen if it was previously active
            document.documentElement.requestFullscreen().catch(err => {
                // If fullscreen request is rejected, log the error
                console.error("Error attempting to enter fullscreen:", err);
            });
        } catch (err) {
            console.error("Fullscreen request failed:", err);
        }
    }
};

</script>


<!-- click anywhere to go fullscreen -->
<script>
    // Function to request fullscreen mode
    function enterFullscreen() {
        if (document.documentElement.requestFullscreen) {
            document.documentElement.requestFullscreen();
        } else if (document.documentElement.webkitRequestFullscreen) { // Safari
            document.documentElement.webkitRequestFullscreen();
        } else if (document.documentElement.mozRequestFullScreen) { // Firefox
            document.documentElement.mozRequestFullScreen();
        } else if (document.documentElement.msRequestFullscreen) { // IE/Edge
            document.documentElement.msRequestFullscreen();
        }
    }

    // Trigger fullscreen on the first click anywhere on the page
    document.body.addEventListener('click', function() {
        enterFullscreen();
    });
</script>

<!-- <script>
    // Function to enter fullscreen mode
    function enterFullscreen() {
        if (document.documentElement.requestFullscreen) {
            document.documentElement.requestFullscreen();
        } else if (document.documentElement.webkitRequestFullscreen) { // Safari
            document.documentElement.webkitRequestFullscreen();
        } else if (document.documentElement.mozRequestFullScreen) { // Firefox
            document.documentElement.mozRequestFullScreen();
        } else if (document.documentElement.msRequestFullscreen) { // IE/Edge
            document.documentElement.msRequestFullscreen();
        }
    }

    // Wait for the DOM to be fully loaded
    document.addEventListener('DOMContentLoaded', function() {
        enterFullscreen();
    });
</script> -->


<!-- If this page is reloaded, it will automatically go fullscreen -->
<!-- <script>
    // Check if the document is not already in fullscreen mode
    function enterFullscreen() {
        if (!document.fullscreenElement &&    // Standard
            !document.webkitFullscreenElement &&  // Safari
            !document.mozFullScreenElement &&    // Firefox
            !document.msFullscreenElement) {     // IE/Edge
            // Attempt to request fullscreen on the document's body
            let body = document.body;
            if (body.requestFullscreen) {
                body.requestFullscreen();
            } else if (body.webkitRequestFullscreen) { // Safari
                body.webkitRequestFullscreen();
            } else if (body.mozRequestFullScreen) { // Firefox
                body.mozRequestFullScreen();
            } else if (body.msRequestFullscreen) { // IE/Edge
                body.msRequestFullscreen();
            }
        }
    }

    // Automatically enter fullscreen after page load
    window.addEventListener('load', function() {
        enterFullscreen();
    });
</script> -->

<!-- 20-1-25 fullscreen settimeout -->
<!-- <script>
    document.addEventListener('DOMContentLoaded', (event) => {
      // Retrieve fullscreen state from localStorage
      const isFullscreen = localStorage.getItem('isFullscreen');
      console.log("Is fullscreen on page load: ", isFullscreen);
  
      // Check if fullscreen was set to 'true' before
      if (isFullscreen === 'true') {
        setTimeout(() => {
          try {
            // Try to enter fullscreen mode after page load
            document.documentElement.requestFullscreen().catch(err => {
              console.error('Error trying to enter fullscreen:', err);
            });
          } catch (err) {
            console.error('Fullscreen request failed:', err);
          }
        }, 100); // Delay to allow the DOM to fully load first
      }
    });
  
    // Function to toggle fullscreen mode and save the state in localStorage
    function toggleFullscreen() {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen().catch(err => {
          alert(`Error attempting to enable fullscreen: ${err.message}`);
        });
      } else {
        if (document.exitFullscreen) {
          document.exitFullscreen();
        }
      }
    }
  
    // Add event listener to the button
    document.getElementById('fullscreenBtn').addEventListener('click', function() {
      toggleFullscreen();
  
      // Update localStorage with the new fullscreen state
      const isFullscreen = document.fullscreenElement ? 'true' : 'false';
      localStorage.setItem('isFullscreen', isFullscreen);
      console.log('Fullscreen state updated in localStorage:', isFullscreen);
    });
  
    // Update fullscreen state on fullscreenchange event
    document.addEventListener('fullscreenchange', function() {
      const isFullscreen = document.fullscreenElement ? 'true' : 'false';
      localStorage.setItem('isFullscreen', isFullscreen);
      console.log('Fullscreen state changed:', isFullscreen);
    });
  </script> -->

<!-- home.html django and script-->
<!-- <script>
    document.addEventListener('DOMContentLoaded', (event) => {
      // Django passes the fullscreen state as a variable
      const isFullscreen = '{{ is_fullscreen }}'; // Either 'true' or 'false'
  
      console.log("Fullscreen state passed from Django:", isFullscreen);
  
      if (isFullscreen === 'true') {
        setTimeout(() => {
          try {
            // Try to enter fullscreen mode after page load
            document.documentElement.requestFullscreen().catch(err => {
              console.error('Error trying to enter fullscreen:', err);
            });
          } catch (err) {
            console.error('Fullscreen request failed:', err);
          }
        }, 100);
      }
    });
  
    // Function to toggle fullscreen mode and save state via AJAX
    function toggleFullscreen() {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen().catch(err => {
          alert(`Error attempting to enable fullscreen: ${err.message}`);
        });
      } else {
        if (document.exitFullscreen) {
          document.exitFullscreen();
        }
      }
  
      // Update fullscreen state in session via AJAX
      const isFullscreen = document.fullscreenElement ? 'true' : 'false';
      fetch(`/set_fullscreen?fullscreen=${isFullscreen}`);
    }
  
    // Add event listener to the button
    document.getElementById('fullscreenBtn').addEventListener('click', function() {
      toggleFullscreen();
    });
  
    // Update fullscreen state on fullscreenchange event
    document.addEventListener('fullscreenchange', function() {
      const isFullscreen = document.fullscreenElement ? 'true' : 'false';
      fetch(`/set_fullscreen?fullscreen=${isFullscreen}`);
    });
  </script> -->
  
</body>
</html>
